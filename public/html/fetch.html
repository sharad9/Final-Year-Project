<html>
  <head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
 
</head>
  <body>
    <center><h1>REPORTED STUDENTS</h1></center> 
<div class="accordion" id="accordionExample">
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingOne">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          CSE1
        </button>
      </h2>
      <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <p id="table">
            
    <script type="module">
      import {
  db,
  ref,
  set,
  onValue,
  get
  } from "../script/fbmodule.js";
      const studentRef = ref(db, `attendance/CSE1`);
      onValue(studentRef, (snapshot) => {
  const usersDataList = snapshot.val();
      let code=`<table>     <tr >
        <th><button type="button" class="btn btn-info">Roll no</button></th>
              <th><button type="button" class="btn btn-info">Distance</button></th>
              <th><button type="button" class="btn btn-info">REporting Time</button> </th>
            </tr>
            `;
      console.log(usersDataList);
      var usersDataKeys=Object.keys(usersDataList);
          console.log(usersDataKeys);
      var i;
      var tl=usersDataList[0].distance.substring(0,usersDataList[0].distance.length-2);
      for(i=1;i<usersDataKeys.length;i++){
  
  var a=usersDataKeys[i];
  var b=usersDataList[a].distance.substring(0,usersDataList[a].distance.length-2);
  console.log(Math.abs(tl-b));
  if((Math.abs(tl-b))<=0.01){
		code+=`
		<tr >
      <td ><button type="button" class="btn btn-outline-primary">${a}</button></td>
		    <td ><button type="button" class="btn btn-outline-primary">${usersDataList[a].distance}</button></td>
		    <td ><button type="button" class="btn btn-outline-primary">${usersDataList[a].time}</button></td>
    </tr>
		
		`;}
  }
  document.getElementById("table").innerHTML = code;
      });
//var tdis=usersData.distance;
   
    </script>
    </p>
  </div>
</div>
</div>
<div class="accordion-item">
<h2 class="accordion-header" id="headingTwo">
  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
    CSE2
  </button>
</h2>
<div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
  <div class="accordion-body"> <p id="table1">
        <script type="module">
          import {
      db,
      ref,
      set,
      onValue,
      get
      } from "../script/fbmodule.js";
          const studentRef1 = ref(db, `attendance/CSE2`);
          onValue(studentRef1, (snapshot) => {
      const usersDataList = snapshot.val();
          let code=`<table>     <tr >
            <th><button type="button" class="btn btn-info">Roll no</button></th>
                  <th><button type="button" class="btn btn-info">Distance</button></th>
                  <th><button type="button" class="btn btn-info">REporting Time</button> </th>
                </tr>
                `;
          console.log(usersDataList);
          var usersDataKeys=Object.keys(usersDataList);
              console.log(usersDataKeys);
          var i;
          var tl=usersDataList[0].distance.substring(0,usersDataList[0].distance.length-2);
          for(i=1;i<usersDataKeys.length;i++){
      console.log("hiii");
      var a=usersDataKeys[i];
      var b=usersDataList[a].distance.substring(0,usersDataList[a].distance.length-2);
      console.log(Math.abs(tl-b));
      if((Math.abs(tl-b))<=0.01){
        code+=`
        <tr >
          <td ><button type="button" class="btn btn-outline-primary">${a}</button></td>
            <td ><button type="button" class="btn btn-outline-primary">${usersDataList[a].distance}</button></td>
            <td ><button type="button" class="btn btn-outline-primary">${usersDataList[a].time}</button></td>
        </tr>
        
        `;}
      }
      document.getElementById("table1").innerHTML = code;
          });
    //var tdis=usersData.distance;
       
        </script>
        </p>
     
         
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingThree">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          CSE3
        </button>
      </h2>
      <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <p id="table2">
            <script type="module">
              import {
          db,
          ref,
          set,
          onValue,
          get
          } from "../script/fbmodule.js";
              const studentRef3 = ref(db, `attendance/CSE3`);
              onValue(studentRef3, (snapshot) => {
          const usersDataList = snapshot.val();
              let code=`<table>     <tr >
                <th><button type="button" class="btn btn-info">Roll no</button></th>
                      <th><button type="button" class="btn btn-info">Distance</button></th>
                      <th><button type="button" class="btn btn-info">REporting Time</button> </th>
                    </tr>
                    `;
              console.log(usersDataList);
              var usersDataKeys=Object.keys(usersDataList);
                  console.log(usersDataKeys);
              var i;
              var tl=usersDataList[0].distance.substring(0,usersDataList[0].distance.length-2);
              for(i=1;i<usersDataKeys.length;i++){
          console.log("hiii");
          var a=usersDataKeys[i];
          var b=usersDataList[a].distance.substring(0,usersDataList[a].distance.length-2);
          console.log(Math.abs(tl-b));
          if((Math.abs(tl-b))<=0.01){
            code+=`
            <tr >
              <td ><button type="button" class="btn btn-outline-primary">${a}</button></td>
                <td ><button type="button" class="btn btn-outline-primary">${usersDataList[a].distance}</button></td>
                <td ><button type="button" class="btn btn-outline-primary">${usersDataList[a].time}</button></td>
            </tr>
            
            `;}
          }
          document.getElementById("table2").innerHTML = code;
              });
        //var tdis=usersData.distance;
           
            </script>
            </p>
        </div>
      </div>
    </div>
  </div>
  </body></html>
